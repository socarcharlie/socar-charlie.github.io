<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    자동차 배터리를 더 소중하게 공학적으로 관리하기 #1 - SOCAR Tech Blog
    
  </title>

  <meta name="description" content="안녕하세요. 쏘카 모빌리티Lab의 Charlie(하철수) 입니다. 이번 글에서는 10,000대가 넘는 차량을 운영하는 쏘카에서 차량 관리에 어떤 기술을 어떻게 적용하고 있는지 공유하고자 합니다.">
  <meta property="og:title" content="자동차 배터리를 더 소중하게 공학적으로 관리하기 #1">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css">

  <link rel="stylesheet" href="/assets/vendor/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="/assets/vendor/fontawesome-free/css/all.min.css">
  <link rel="stylesheet" href="/assets/main.css">

  <link rel="canonical" href="https://tech.socarcorp.kr/mobility/2021/07/20/socar-mobility-lab-battery-management-process-first-stage.html">
  <link rel="alternate" type="application/rss+xml" title="SOCAR Tech Blog" href="/feed.xml">
  <link rel="icon" type="image/png" href="/assets/icon/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icon/favicon-96x96.png">
</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">SOCAR Tech Blog</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">🏠 Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">✏️ Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/categories">📔 Categories</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/tags">🏷 Tags</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/authors">✍🏻 Authors</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->

<header class="masthead" style="background-image: url('/assets/images/tyler-clemmensen-c5e6HmUTZDk-unsplash.jpg')">
  
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-9 col-md-9 mx-auto">
          <div class="post-heading">
            <h1 class="post-title">자동차 배터리를 더 소중하게 공학적으로 관리하기 #1</h1>
            
            <h2 class="subheading">배터리의 특성과 상태를 기준으로</h2>
            
            <div class="post-meta">
              
              
                
                <span class="author"><a href="/authors#charlie"><img src="/assets/authors/charlie.png">charlie</a></span>
              
                <br>
                <span class="date">2021-07-20</span>
                <br>
                <span class="category"><a href="/categories#">mobility</a></span> 
                <br>
              
                <span class="tag"><a href="/tags#mechanical engineering">mechanical engineering</a></span>
              
                <span class="tag"><a href="/tags#chemical engineering">chemical engineering</a></span>
              
                <span class="tag"><a href="/tags#data">data</a></span>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="toc toc-hidden" id="toc">
    </div>
    <div class="row">
      <div class="col-lg-9 col-md-9 mx-auto">
        <div class="post-content">
        <p>안녕하세요. 쏘카 모빌리티Lab의 Charlie(하철수) 입니다.  이번 글에서는 10,000대가 넘는 차량을 운영하는 쏘카에서 차량 관리에 어떤 기술을 어떻게 적용하고 있는지 공유하고자 합니다.</p>

<p>(본 글에서 다루는 내용은 공학적으로 다소 전문적인 내용을 포함하고 있고, 현업에서 자동차를 관리하는 분들께 맞추어 작성했습니다. 읽으시는 도중 문의 사항이 있으면 댓글을 남겨주세요. 최대한 잘 설명드리도록 하겠습니다)</p>

<p>휘발유나 경유를 넣고 엔진(내연기관)을 돌려 구동하는 자동차는 우리가 아직 가장 쉽게 접할 수 있는 자동차이자 탈것입니다. 1885년 벤츠의 가솔린 기관 자동차가 처음 세상에 나온 이래로 자동차의 발전 역사가 공학발전의 역사였고, 자연스럽게 자동차는 각 시대를 대표하는 기술이 모이는 하나의 플랫폼이 되었습니다. 조금 더 설명해 드리면,  유체역학,  물리학,  구조역학(기계공학에서 총괄함)을 기본으로 유기화학(철강,  유리,  자동차 시트, 부품, 고무 제품과 연관되며 화학공학에서 총괄함), 전기공학(센서, 카메라), 전자기학의 집합체가 자동차입니다. 결국, 자동차를 제대로 관리하기 위해선 역학적 요소에 대한 이해가 필요합니다.</p>

<p>모빌리티Lab을 대표하여 처음으로 다룰 주제는 기술 집합체인 자동차의 구동 시작을 담당하는 <strong>자동차 배터리 관리</strong>에 관한 이야기입니다. 경차에서 슈퍼카에 이르기까지 모든 내연기관 자동차는 시동을 걸어야 탈 것의 기능을 할 수 있습니다.  자동차에 장착된 시동용 배터리는 시동모터를 돌려 엔진을 구동시키는 역할을 합니다.  그런데 이 배터리가 대단히 예민합니다. 사람처럼 추우면 힘을 못 내고, 더우면 빨리 지치며, 제때 밥을 먹여주지 않으면 몸이 곯아버립니다. 10,000대가 넘는 차량을 운영하는 쏘카 입장에서는 하나하나 살펴볼 수도 없고, 관리하기 여간 어려운 게 아닙니다.</p>

<p>그래도 공학자는 문제를 풀어내야 진짜 공학자입니다! 지금부터 쏘카 모빌리티Lab에서 어떻게 이 문제를 풀어가는지 최대한 쉽게 나누려고 합니다.</p>

<h2 id="목차">목차</h2>

<ul>
  <li><a href="#배터리-종합-관리">배터리 종합 관리</a>
    <ul>
      <li><a href="#1-배경">배경</a></li>
      <li><a href="#2-문제-정의">문제 정의</a></li>
      <li><a href="#3-문제-해결을-위한-접근-방법">문제 해결을 위한 접근 방법</a></li>
    </ul>
  </li>
  <li><a href="#맺으며">맺으며</a></li>
</ul>

<hr />

<h2 id="1-배경">1. 배경</h2>

<ul>
  <li>방전과 관련된 문제는 월 100건 이상 접수됩니다. 어떤 경로로 접수되어 수리를 받는가에 따라 다르지만 준중형차량(대표적으로 아반떼) 기준 수리비가 25만원까지 청구되기도 합니다. <strong>방전 문제는 회사의 관리 손실을 일으키는 중요 요소입니다.</strong></li>
  <li>개인이 관리하는 일반적인 차량의 경우 3년간 600~800회의 시동 시도가 기록되고 배터리 제조사의 보증 시동 횟수도 600~800회 정도입니다. 그러나 쏘카가 운영하는 차량은 연간 2,200~2,800회 정도의 시동 시도가 발생합니다. 특히 2,200회를 넘어가는 시점에서는 배터리 관련 고장으로 인해 공업사에 차량이 입고될 확률이 급격히 높아집니다. 그러므로 <strong>이 시기가 도래하기 전에 적절한 관리를 통해 배터리의 수명을 관리해주어야 합니다.</strong></li>
</ul>

<p><img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure-1.png" alt="" />
<em>[그림 1] 시동 사이클 증가에 따른 장애 건수 분포</em></p>

<ul>
  <li>정상적인 배터리가 일부 고객의 특이적인 배터리 사용 방법에 따라 방전되는 경우도 있습니다. 통계적으로 실제 방전 신고의 60%는 현 고객 혹은 직전 고객의 특이적 배터리 사용 방법으로 인해 발생했습니다 .</li>
  <li>차량에서 받을 수 있는 배터리 상태 데이터 종류에 한계가 있습니다. 별도의 데이터 수집 장치가 없다면 시간, 전압, 시동 상태 외에 차량에서 받을 수 있는 배터리 관련 데이터는 없습니다.</li>
</ul>

<p><br /></p>

<h2 id="2-문제-정의">2. 문제 정의</h2>

<ul>
  <li>쏘카 차량의 <strong>배터리 방전 문제로 인한 관리 손실</strong>이 있습니다.</li>
  <li>쏘카 차량의 <strong>배터리를 배터리의 특성과 상태 기준으로 관리하는 로직</strong>이 없습니다.</li>
</ul>

<p><br /></p>

<h2 id="3-문제-해결을-위한-접근-방법">3. 문제 해결을 위한 접근 방법</h2>

<ul>
  <li>수년간 누적된 데이터 중 현재도 수집이 되는 Feature에 대한 분석작업부터 시작합니다. (현재 수집이 가능한 Feature를 사용해야 과거 데이터를 통해 만들어진 모델을 앞으로도 활용할 수 있습니다)
    <ul>
      <li>물리적 정보: 전압, 신호 미수신 시간, 차량별 생애 주기 동안 시동 횟수</li>
      <li>과거 운영 데이터: 실제 배터리 문제로 신고 접수된 건수 기록</li>
    </ul>
  </li>
  <li>배터리 관리 방법에 변화를 주었습니다.
    <ul>
      <li>고객 신고가 들어오면 점프 혹은 배터리 교환을 했던 기존 프로세스를 <strong>배터리 상태를 바탕으로 한 프로세스</strong>로 바꾸었습니다.
        <ul>
          <li>배터리 상태가 어느 정도 보존된 상태의 방전 초입의 배터리는 물리 화학적 관리를 거치면 배터리 수명이 연장되어 교체하지 않아도 좀 더 사용할 수 있습니다.</li>
        </ul>

        <p><img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure0_KOR.jpg" alt="" />
  <em>[그림 2] 배터리 Reconditioning 장치와 배터리</em></p>

        <ul>
          <li>방전 초입을 어떻게 잡아내는가에 따라 관리 가능 여부가 갈립니다.</li>
          <li>방전 초입을 포착해도 이동, 횟수, 배터리 관리, 재장착 과정을 거치면서 발생하는 추가 관리 비용이 필요합니다. 따라서 선제적 관리가 기존 관리 방법보다 사업 및 운영상의 이득을 보장하는 영역을 찾아내는 알고리즘이 필요합니다.</li>
        </ul>
      </li>
      <li>개발 당시 누적 데이터를 기준으로 배터리 방전 여부를 판단하는 알고리즘을 고안했습니다.
        <ul>
          <li>예약 직전의 모든 배터리 전압(V)과 단말 신호주기(dt)를 추출하여 배터리 방전 신고 확률을 구합니다. 이때, 신고가 올 확률이 임계 확률보다 높아지면 사전 정비를 통해 이득을 얻을 수 있습니다. <strong>이 임계 확률 구하기가 결국 과제의 중요 목표 중 하나</strong>입니다.</li>
          <li>연구 과정을 순서대로 나타내면 아래와 같습니다.
            <ul>
              <li>모든 예약 내역 데이터를 추출합니다.</li>
              <li>예약 점유 시간 동안 배터리 관련 신고가 없고, 시동이 한번이라도 켜진 예약 리스트를 추출합니다.</li>
              <li>예약 점유 시간 동안 배터리 관련 신고가 있는 예약 리스트 추출합니다.</li>
              <li>위의 두 리스트의 배터리 전압과, 신호가 들어오지 않는 시간 간격을 추출합니다.</li>
            </ul>

            <p><img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure1_KOR.png" alt="" />
  <em>[그림 3] 정상적인 배터리 운용 케이스와 문제가 생긴 케이스의 구분</em></p>

            <ul>
              <li>DB 조회를 통해 배터리 관련 총 신고 건수, 배터리 관련 긴급출동 데이터, 정비 비용, 관리 중 발생하는 이동 거리에 기반한 물류비를 모두 반영한 기준을 수립합니다.</li>
              <li>
                <p>위의 그림 3 기준을 따라 배터리 신고가 들어오는 비율을 2D Contour로 나타내었습니다. (그림 4)
  <img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure2.png" alt="" />
  <em>[그림 4] 배터리 신고가 들어오는 비율에 대한 2D Contour</em></p>
              </li>
              <li>서울 경인과 그 외 지역의 관리 비용 차이로 인해 Contour가 조금 달라질 수 있어서 아래와 같이 분리해서 추출했고, 정상 배터리 전압영역 (12.4V) 이하를 이상 영역으로 명확히 보면 아래와 같습니다. 위의 Contour와 다르게 아래는 확률 분포가 무시된 Binary Contour입니다. (그림 5, 6)
  <img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure3.png" alt="" />
  <em>[그림 5] 서울, 경인 지역 Binary Contour</em></li>
            </ul>

            <p><img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure4.png" alt="" />
  <em>[그림 6] 기타 지역 Binary Contour</em></p>

            <ul>
              <li>
                <p>Binary Contour는 아래의 수식(그림 7)을 기초로 하며, 운영 데이터를 통해 구해진 합리적 수치보다 Precision이 큰 영역을 Highlight 하여 만들어집니다.
  <img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure5.png" alt="" />
  <em>[그림 7] Binary Contour의 계산에 사용된 수식</em></p>
              </li>
              <li>
                <p>샘플로 추출된 특정 기간 동안 데이터를 바탕으로 Confusion Matrix를 계산하면 아래와 같습니다. 단, 113대 중 일부는 과잉정비가 아닐 수 있고 그 값을 정확히 알 수 없어 미지수인 alpha로 두었습니다.
  <img src="/img/socar-mobility-lab-battery-management-process-first-stage/Figure6_KOR.png" alt="" />
  <em>[그림 8] Confusion Matrix</em></p>
              </li>
              <li>
                <p>Contour를 바탕으로 실시간으로 차량 상태를 조회하여 전압과 dt가 Contour에 올라온다면 방전으로 판단하고 적절하게 조처합니다.</p>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>다음은 방전 의심 차량의 배터리를 관리하는 방법중 하나인 <strong>전기 화학적 관리 방법</strong>을 소개합니다.</p>

        <ul>
          <li>자동차 시동용 배터리란?
            <ul>
              <li>종류: 이차전지</li>
              <li>사용처: 자동차 시동용 배터리나 지게차 배터리</li>
              <li>구성:
                <ul>
                  <li>음극판: 완전히 충전된 상태에서 음극판은 완전한 납</li>
                  <li>양극판: 이산화 납</li>
                  <li>전해액: 화학적 에너지를 가득 품은 고농도의 황산</li>
                </ul>
              </li>
              <li>화학반응의 흐름:
                <ul>
                  <li>시간이 지남에 따라 음극판이 고농도의 황산과 반응하여 황산납과 2개의 전자를 방출합니다.</li>
                  <li>이 전자들이 도선을 따라 흐르다가 양극에 만나면 환원 반응을 하게 됩니다.</li>
                  <li>화학반응 중 에너지가 발생합니다.</li>
                </ul>
              </li>
              <li>특성:
                <ul>
                  <li>자동차 시동용 납축전지는 일시에 과대 전류를 뿜어내는데 최적화되어있어서 완전 충전 후 일시에 큰 전류를 소량 사용(임펄스 전류), 이후에는 바로 완전충전해 사용하는 방식에 최적화되어있습니다.</li>
                  <li>그러므로 충전하지 않고 전지를 계속 사용하면 쉽게 고장납니다.
                    <ul>
                      <li>용량의 50%를 사용하고 일주일을 충전하지 않으면 후에 충전한다 하더라도 <strong>이미 사용한 50%에 대한 회복은 불가능</strong>합니다.</li>
                      <li>따라서 시동용 납축전지를 보통의 충전지처럼 사용하면 <strong>수 회 사용으로 완전히 고장</strong>납니다.</li>
                      <li>자동차 시동용 배터리로 가장 널리 사용되는 밀폐형 혹은 무보수형(MF)으로 불리는 납축전지의 경우 정상적 사용조건 아래에서 3년 500회의 시동횟수를 커버 가능합니다.</li>
                      <li>그 이상 사용하기 어려운 이유는 시간이 지남에 따라 자연적 화학반응에 의해 음극판에도 황화납이 침착되어 이온 교환이 원활하게 이루어지기 어렵기 때문입니다.</li>
                      <li>평소 충전을 자주 해주어 전류를 일정 수준 이하로 떨어지지 않게 유지하면 오래 쓸 수 있으나, 반대로 너무 오래 방전을 해서 한 번이라도 충전 한계 전압 이하로 떨어지게 되면(심방전이라고 함) 그땐 이미 극판에 황화납 피막이 두껍게 형성된 상태라 재충전이 거의 안되며 배터리를 폐기해야 합니다.</li>
                    </ul>
                  </li>
                  <li>온도 변화에 성능 변화가 크게 좌우되는 특성이 있습니다.
                    <ul>
                      <li>섭씨 0도의 배터리는 섭씨 25도의 배터리의 63% 성능만을 발휘하는데 섭씨 0도에서 엔진이 시동을 위해 필요로 하는 외력은 섭씨 25도의 엔진이 요구하는 <strong>외력의 165%</strong>에 육박합니다.</li>
                      <li>따라서 납산 전지를 시동용으로 사용하는 자동차는 <strong>겨울철에 시동이 잘 걸리지 않는 고질적 문제</strong>를 가집니다.</li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li>심방전 관련 추가 설명:
                <ul>
                  <li><strong>심방전이 일어나면 극판에 황화납 피막이 높은 수준으로 형성</strong>됩니다.</li>
                  <li>초기 심방전이나, 심방전의 횟수가 2회 미만인 배터리의 경우 고주파 펄스 형태로 전류를 배터리에 보내면 극판에 진동을 일으켜 <strong>황화납을 어느정도 탈각</strong>시킬 수 있습니다.</li>
                  <li>초기 심방전이나, 심방전으로 이를 가능성이 매우 높은 배터리를 <strong>조기에 발견하여 조치하면 배터리의 수명연장이 어느 정도 가능</strong>합니다.</li>
                  <li>혹은 배터리에 대한 이해가 높고 충분한 장비가 있다면 배터리의 극판의 황화납을 물리적으로 탈각시키는 방법을 시도하여 배터리 수명을 유지할 수 있습니다.</li>
                  <li>배터리 수명 연장을 위한 황화납의 탈각 방법을 통칭하여 <strong>Reconditioning(재건조화)</strong>라고 합니다.</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>실제 관리 POC의 진행
            <ul>
              <li><strong>초기 FS ~ 1차 POC 기간 간 직접 Reconditioning을 수행</strong>했습니다.
                <ul>
                  <li>전국단위의 FS 및 1차 POC를 수행하려면 전국에 본사의 LAB 환경과 동일한 관리 시설을 두어야 합니다. 초기 검증 기간에 전국 인프라 구축은 현실적으로 어렵기 때문에 LAB에서 커버 가능한 서울과 그 주변 도시들을 타깃으로 했습니다.</li>
                  <li>위에서 설명한 배터리 관리 필요 대상 차량을 자동으로 추출하는 시스템에서 서울 경기 차량 중 관리가 필요한 차량을 일~목 동안 선정하여 Reconditioning을 수행했습니다.</li>
                  <li><strong>초기 방전 및 AGM배터리의 경우 90% 이상의 회복</strong>을 보여주었습니다(Reconditioning 이후 6개월 이상 재인입이 없는 차량 기준). 그러나 <strong>심방전이 지속된 차량의 배터리나 일반 MF형 배터리의 경우 30% 대의 회복</strong>을 보여주어서 조기 발견 및 대응이 중요함을 확인했습니다.</li>
                  <li>이 프로세스가 쏘카의 차량 대다수에 가장 널리 사용되는 <strong>AGM 배터리의 Reconditioning에 잘 맞고 이익을 줄 수 있음을 확인</strong>했습니다. 경형 차량에 주로 사용되는 MF형 배터리는 시중에 판매되는 Reconditioning 장비로 황산납 탈각이 잘 안 됨을 보았습니다. MF형 배터리에 대해 Reconditioning 기술을 보유하고 있는 소수의 기업이 있으며 그중 일부 기업은 합리적인 가격으로 서비스를 제공합니다.</li>
                  <li>배터리 문제로 인해 신고가 들어온 차량의 60%는 고객의 차량 사용 미숙이 주된 원인이었습니다. 고객께서 차량 사용에 문제가 없도록 가이드를 잘한다면 방전의 60%를 해결 가능하다는 말로도 이해가 가능한 부분입니다. 따라서 배터리 방전을 일으키기 쉬운 상황이 감지되면 고객님께 적절한 알림을 드리는 시스템을 구축하기로 했습니다.</li>
                </ul>
              </li>
              <li>2차 POC 혹은 전면 도입 기간에 대량 관리를 위한 Reconditioning 및 관리 시스템을 구축했습니다.</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="맺으며">맺으며</h2>

<p>이번에 소개드린 쏘카의 배터리 관리 프로세스는 <strong>데이터와 기존의 공학적 지식이 결합되어 어떤 솔루션을 줄 수 있는지 보여주는 좋은 예시</strong>라고 생각합니다. 여기서 소개했던 배터리 관리 프로세스 이외에도 현재 쏘카에서는 운영상 발생하는 다양한 문제에 대해 데이터와 공학적 지식을 결합하여 좋은 솔루션을 도출하고, 그 솔루션을 기반으로 운영 문제를 해결하는 시도를 하고 있습니다. 앞으로도 다양한 사례들에 대해 하나씩 이야기를 풀어 나가려고 하니 기대해주세요.
그럼 저는 이만 인사드리며 글을 마치도록 하겠습니다.</p>

<blockquote>
  <p><strong>쏘카의 모빌리티Lab</strong>은 모두 높은 수준의 기계 공학 지식을 보유한 인력으로 이루어졌으며, 쏘카의 풍부한 차량 데이터에 기계 공학 지식을 녹여 운영에 필요한 최적 솔루션을 만들고 있습니다.  우리에게 힘을 더해주실 우수한 분을 모시고 있습니다. 언제든지 지원해주세요.</p>
</blockquote>

        </div>
        <hr>
        <div class="clearfix">
          
          <a class="btn btn-primary float-left" href="/data/2021/06/01/data-engineering-with-airflow.html" data-toggle="tooltip" data-placement="top" title="쏘카 데이터 그룹 - Airflow와 함께한 데이터 환경 구축기(feat. Airflow on Kubernetes)">&larr; Previous<span class="d-none d-md-inline">
              Post</span></a>
          
          
          <a class="btn btn-primary float-right" href="/dev/2021/08/17/common-code-management.html" data-toggle="tooltip" data-placement="top" title="쏘카 백오피스 팀 내 공통 코드(Common Code) 관리 변천사">Next<span class="d-none d-md-inline">
              Post</span> &rarr;</a>
          
        </div>
        <div>
          <p class="recuit">쏘카는 언제나 쏘카 서비스를 함께 만들며 기술적인 문제를 함께 풀어나갈 능력있는 개발자/디자이너/기획자/데이터 사이언티스트 등을 모시고 있습니다. 자세한 내용은 <a href="https://bit.ly/SOCAR-RECRUIT">쏘카 채용공고 페이지</a>를 확인 부탁드립니다 :)</p>
        </div>
      </div>
    </div>
    <!-- disqus comments -->
    
      <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://socar-tech.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>

<script>
  // ref https://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '#toc',
    contentSelector: '.post-content',
    headingSelector: 'h1, h2, h3',
    hasInnerContainers: true,
    collapseDepth: 6,
    linkClass: 'toc-link'
  });


  $(window).on('scroll', function() {
      let scrollTop = $(window).scrollTop()
      let scrollBottom =  scrollTop + $(window).height()
      let contentOffsetTop = $(".post-content").offset().top
      let contentOffsetBottom = contentOffsetTop + $(".post-content").height()
      let elementHeight = $(".post-content").height(); 

      if ((scrollTop < contentOffsetTop) || (scrollBottom >= contentOffsetBottom)) {
        // $('.toc').css('visibility', 'hidden')
        $('.toc').addClass("toc-hidden")
      }
      else if (scrollTop >= contentOffsetTop) {
        $(".toc").removeClass("toc-hidden")
      }
  });
</script>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-9 mx-auto">
        <ul class="list-inline text-center">
          
          
          
          <li class="list-inline-item">
            <a href="https://www.facebook.com/socarsharing">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; SOCAR 2022</p>
      </div>
    </div>
  </div>
</footer>


  <script src="/assets/vendor/jquery/jquery.min.js"></script>
<script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script>
<script src="/assets/scripts.js"></script>
<script src="/assets/mermaid-8.2.3.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-30551922-27"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-30551922-27');
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MZ79TFM');</script>
<!-- End Google Tag Manager -->


</body>

</html>
